<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}LedeMekai{% endblock %}</title>

  <!-- Google Fonts + Font Awesome -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

  {% block head_extras %}{% endblock %}

</head>
<body>

  <!-- Page Loader -->
  <div id="page-loader">
  <img src="{{ url_for('static', filename='images/tlogo.png') }}" alt="Loading..." class="loader-logo">
  </div>

  {% include 'navbar.html' %}

  <style> body { font-family: 'Poppins', sans-serif; } </style>

  {% block content %}{% endblock %}

  {% include 'footer.html' %}

  <script>
    window.addEventListener("load", function () {
      const loader = document.getElementById("page-loader");
      if (loader) {
        loader.classList.add("fade-out");
      }
    });    
    function toggleMenu(icon) {
      const navLinks = document.getElementById("navLinks");
      navLinks.classList.toggle("show");
      icon.classList.toggle("active");
    }
  
    // Auto-close nav menu on link click (for mobile)
    document.addEventListener("DOMContentLoaded", function () {
      const links = document.querySelectorAll(".nav-links a");
      const navLinks = document.getElementById("navLinks");
      const hamburger = document.querySelector(".hamburger");
    
      links.forEach(link => {
        link.addEventListener("click", () => {
          if (navLinks.classList.contains("show")) {
            navLinks.classList.remove("show");
            hamburger.classList.remove("active");
          }
        });
      });
    });
    function toggleDropdown() {
      const dropdown = document.getElementById("user-dropdown");
      dropdown.classList.toggle("show");
    }
    window.onclick = function(event) {
      if (!event.target.matches('.user-icon')) {
        const dropdown = document.getElementById("user-dropdown");
        if (dropdown && dropdown.classList.contains('show')) {
          dropdown.classList.remove('show');
        }
      }
    }
  </script>
</body>
</html>
